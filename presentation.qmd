---
title: "Analyse Statistique des Dipl√¥m√©s"
subtitle: "Enseignement Sup√©rieur Public Tunisien"
author: "Abderrahmen Youssef - Groupe DS4"
date: "07 Janvier 2026"
format:
  revealjs:
    output-file: index.html
    theme: [default, custom.scss]
    transition: slide
    background-transition: fade
    slide-number: true
    chalkboard: true
    preview-links: auto
    logo: img/logo.png
    css: styles.css
    code-fold: true
    code-tools: true
    scrollable: true
    navigation-mode: vertical
    controls: true
    progress: true
    history: true
    center: true
    incremental: false
    mermaid:
      theme: default
execute:
  echo: true
  warning: false
  message: false
---

```{r setup, include=FALSE}
# Chargement des biblioth√®ques
library(readxl)
library(dplyr)
library(tidyr)
library(ggplot2)
library(knitr)
library(gt)
library(plotly)
library(DT)  # Pour tableaux interactifs filtrables

# D√©finir le th√®me par d√©faut
theme_set(theme_minimal(base_size = 12))

# Charger les donn√©es fusionn√©es
diplomes_final <- read.csv("dataset/merged/diplomes_fusionnes.csv", encoding = "UTF-8")
```

## {.center data-background="#1e3a8a"}

::: {.r-fit-text style="color: white;"}
**Comprendre la production de dipl√¥m√©s en Tunisie**
:::

::: {.fragment style="color: white; font-size: 1.3em;"}
Analyse par domaines, sp√©cialit√©s et √©tablissements
:::

::: {.fragment style="color: white; font-size: 1.2em;"}
üìä 55,670 dipl√¥m√©s | 14 universit√©s | 22 domaines
:::

# Probl√©matique {data-background="#0f172a"}

## Question de recherche {.smaller}

::: {.incremental}
- Comment se **r√©partissent** les dipl√¥m√©s de l'enseignement sup√©rieur public en Tunisie ?
- Quels **d√©s√©quilibres** peut-on identifier selon :
  - Les domaines d'√©tude
  - Les √©tablissements
  - Le genre (F/M)
- Quelles **structures** et **tendances** √©mergent des donn√©es ?
:::

## Architecture des donn√©es {.smaller}

::: {.columns}
::: {.column width="50%"}
### Mod√®le en √©toile

```{mermaid}
%%| fig-width: 8
%%| fig-height: 6
graph TB
    A[fact_diplomes<br/>Table principale] --> B[uni_code<br/>Universit√©s]
    A --> C[etablissement_code<br/>√âtablissements]
    A --> D[domaines_code<br/>Domaines]
    A --> E[diplomes_code<br/>Types de dipl√¥mes]
    style A fill:#3b82f6,stroke:#1e40af,color:#fff
    style B fill:#10b981,stroke:#059669,color:#fff
    style C fill:#10b981,stroke:#059669,color:#fff
    style D fill:#10b981,stroke:#059669,color:#fff
    style E fill:#10b981,stroke:#059669,color:#fff
```
:::

::: {.column width="50%"}
### Mesures quantitatives

- `diplomes_M` : Hommes
- `diplomes_F` : Femmes
- `diplomes_total` : Total

### Dimensions

- 2,083 observations
- 9 variables finales
- 4 tables de r√©f√©rence
:::
:::

# PARTIE 1 {data-background-gradient="linear-gradient(45deg, #667eea 0%, #764ba2 100%)"}

::: {.r-fit-text style="color: white;"}
Pr√©paration des Donn√©es
:::

## Source des donn√©es {.smaller}

::: {.callout-note icon="false"}
## üìÇ Provenance des donn√©es

**Source :** [Catalogue Open Data Tunisie](https://catalog.data.gov.tn/fr/dataset/les-etudiants-diplomes-des-universites-en-2021-2022)

- **Jeu de donn√©es :** Les √©tudiants dipl√¥m√©s des universit√©s
- **Ann√©e acad√©mique :** 2021-2022
- **Date de cr√©ation :** 18 F√©vrier 2024
- **Derni√®re modification :** 5 Mars 2024
- **Organisme :** Minist√®re de l'Enseignement Sup√©rieur et de la Recherche Scientifique (Tunisie)
:::

## Processus de fusion {.smaller}

::: {.panel-tabset}
### √âtape 1
**Import des donn√©es brutes**
```{r}
#| eval: false
#| echo: true
fact_diplomes <- read_excel("dataset/raw/fact_diplomes.xls")
uni_code <- read_excel("dataset/raw/uni_code.xls")
etablissment_code <- read_excel("dataset/raw/etablissment_code.xls")
domaines_code <- read_excel("dataset/raw/domaines_code.xls")
diplomes_code <- read_excel("dataset/raw/diplomes_code.xls")
```

### √âtape 2
**Jointures successives**
```{r}
#| eval: false
#| echo: true
data_merged <- fact_diplomes %>%
  left_join(uni_code, by = c("universite_code" = "code")) %>%
  left_join(etablissment_code, by = "etablissement_code") %>%
  left_join(domaines_code, by = "domain_code") %>%
  left_join(diplomes_code, by = "diplome_code")
```

### √âtape 3
**Nettoyage final**
- Suppression des colonnes de codes
- Conservation uniquement des noms explicites
- Export vers CSV (dataset/merged/)
:::

## Statistiques descriptives {.smaller}

```{r}
#| echo: false
total_diplomes <- sum(diplomes_final$diplomes_total, na.rm = TRUE)
total_hommes <- sum(diplomes_final$diplomes_M, na.rm = TRUE)
total_femmes <- sum(diplomes_final$diplomes_F, na.rm = TRUE)
```

::: {.columns}
::: {.column width="50%"}
```{r}
#| echo: false
stats_globales <- data.frame(
  Indicateur = c("Total dipl√¥m√©s", "Hommes", "Femmes", "Ratio F/H"),
  Valeur = c(
    format(total_diplomes, big.mark = " "),
    format(total_hommes, big.mark = " "),
    format(total_femmes, big.mark = " "),
    "2.33:1"
  )
)

gt(stats_globales) %>%
  tab_options(
    table.font.size = px(20),
    table.width = pct(100),
    heading.background.color = "#3b82f6",
    column_labels.background.color = "#3b82f6",
    column_labels.font.weight = "bold",
    column_labels.font.size = px(18)
  ) %>%
  tab_style(
    style = cell_text(size = px(18)),
    locations = cells_body()
  ) %>%
  opt_row_striping()
```
:::

::: {.column width="50%"}
```{r}
#| echo: false
stats_entites <- data.frame(
  Entit√© = c("Universit√©s", "√âtablissements", "Domaines", "Types de dipl√¥mes"),
  Nombre = c(
    n_distinct(diplomes_final$universite_nom),
    n_distinct(diplomes_final$etablissement_nom),
    n_distinct(diplomes_final$domaine_nom),
    n_distinct(diplomes_final$diplome_nom)
  )
)

gt(stats_entites) %>%
  tab_options(
    table.font.size = px(20),
    table.width = pct(100),
    column_labels.background.color = "#10b981",
    column_labels.font.weight = "bold",
    column_labels.font.size = px(18)
  ) %>%
  tab_style(
    style = cell_text(size = px(18)),
    locations = cells_body()
  ) %>%
  opt_row_striping()
```
:::
:::

# PARTIE 2 {data-background-gradient="linear-gradient(45deg, #f093fb 0%, #f5576c 100%)"}

::: {.r-fit-text style="color: white;"}
Analyses Statistiques
:::

::: {.fragment style="color: white;"}
6 axes d'analyse approfondie
:::

## Explorateur de Donn√©es Interactif {.smaller .scrollable}

::: {.callout-note icon="false"}
## üìä Tableau filtrable et interactif

Explorez l'ensemble des donn√©es : filtrez par domaine, √©tablissement, dipl√¥me...
:::

```{r}
#| echo: false
#| out.width: "100%"
# Pr√©parer les donn√©es pour le tableau interactif
tableau_interactif <- diplomes_final %>%
  select(
    √âtablissement = etablissement_nom,
    Domaine = domaine_nom,
    Dipl√¥me = diplome_nom,
    Hommes = diplomes_M,
    Femmes = diplomes_F,
    Total = diplomes_total
  )

# Cr√©er le tableau interactif avec DT - version simplifi√©e
datatable(
  tableau_interactif,
  filter = 'top',
  options = list(
    pageLength = 10,
    scrollX = FALSE,
    autoWidth = FALSE,
    dom = 'frtip',
    language = list(
      search = "Rechercher :",
      lengthMenu = "Afficher _MENU_",
      info = "_START_ √† _END_ / _TOTAL_",
      paginate = list(
        first = "¬´",
        last = "¬ª",
        `next` = "‚Ä∫",
        previous = "‚Äπ"
      ),
      zeroRecords = "Aucun r√©sultat",
      infoEmpty = "0 donn√©e",
      infoFiltered = "(filtr√© de _MAX_)"
    )
  ),
  class = 'display compact stripe',
  rownames = FALSE,
  style = 'bootstrap4'
) %>%
  formatStyle(
    'Total',
    background = styleColorBar(range(tableau_interactif$Total), '#3b82f6'),
    backgroundSize = '85% 75%',
    backgroundRepeat = 'no-repeat',
    backgroundPosition = 'center'
  ) %>%
  formatStyle(
    columns = 1:6,
    fontSize = '15px'
  ) %>%
  formatStyle(
    0,
    target = 'row',
    lineHeight = '140%'
  )
```

# Axe 1 {data-background="#dc2626"}

::: {.r-fit-text style="color: white;"}
R√©partition par Genre
:::

::: {.fragment style="color: white; font-size: 1.2em;"}
**Questions :** Quel est le d√©s√©quilibre F/M ? Quels domaines sont les plus genr√©s ?
:::

## Analyse globale F/M {.smaller}

::: {.columns}
::: {.column width="40%"}
### Ratio Global

::: {.callout-important icon="false"}
## üìä D√©s√©quilibre marqu√©

**70%** Femmes  
**30%** Hommes

**Ratio : 2.33:1**

Pour 1 homme dipl√¥m√©,  
il y a **2.33 femmes**
:::
:::

::: {.column width="60%"}
```{r}
#| echo: false
#| fig-width: 6
#| fig-height: 5
genre_data <- data.frame(
  Genre = c("Femmes", "Hommes"),
  Effectif = c(total_femmes, total_hommes),
  Pourcentage = c(70, 30)
)

# Utiliser plotly natif pour le pie chart
plot_ly(genre_data, 
        labels = ~Genre, 
        values = ~Effectif, 
        type = 'pie',
        textposition = 'inside',
        textinfo = 'label+percent',
        insidetextfont = list(color = '#FFFFFF', size = 16),
        marker = list(colors = c('#ec4899', '#3b82f6'),
                     line = list(color = '#FFFFFF', width = 2)),
        hoverinfo = 'text',
        text = ~paste(Genre, '<br>',
                     format(Effectif, big.mark = " "), 'dipl√¥m√©s<br>',
                     Pourcentage, '%')) %>%
  layout(title = list(text = "R√©partition Globale par Genre", 
                     font = list(size = 16, weight = 'bold')),
         showlegend = TRUE,
         legend = list(orientation = 'h', y = -0.1))
```
:::
:::

## Domaines les plus genr√©s {.smaller .scrollable}

::: {.panel-tabset}
### Top F√©minin üë©‚Äçüéì

```{r}
#| echo: false
genre_domaine <- diplomes_final %>%
  filter(!is.na(domaine_nom)) %>%
  group_by(domaine_nom) %>%
  summarise(
    Hommes = sum(diplomes_M),
    Femmes = sum(diplomes_F),
    Total = sum(diplomes_total)
  ) %>%
  mutate(Pct_Femmes = round((Femmes / Total) * 100, 1)) %>%
  arrange(desc(Pct_Femmes))

top_fem <- head(genre_domaine %>% select(domaine_nom, Femmes, Hommes, Pct_Femmes), 10)

gt(top_fem) %>%
  cols_label(
    domaine_nom = "Domaine",
    Femmes = "Femmes",
    Hommes = "Hommes",
    Pct_Femmes = "% Femmes"
  ) %>%
  tab_options(
    table.font.size = px(14),
    table.width = pct(100),
    column_labels.background.color = "#ec4899",
    column_labels.font.weight = "bold",
    column_labels.font.size = px(16)
  ) %>%
  tab_style(
    style = list(cell_fill(color = "#fce7f3"), cell_text(weight = "bold")),
    locations = cells_body(rows = 1:3)
  ) %>%
  fmt_number(columns = c(Femmes, Hommes), decimals = 0) %>%
  opt_row_striping()
```

### Top Masculin üë®‚Äçüéì

```{r}
#| echo: false
top_masc <- genre_domaine %>% 
  arrange(Pct_Femmes) %>%
  head(10) %>%
  mutate(Pct_Hommes = round((Hommes / Total) * 100, 1)) %>%
  select(domaine_nom, Hommes, Femmes, Pct_Hommes)

gt(top_masc) %>%
  cols_label(
    domaine_nom = "Domaine",
    Hommes = "Hommes",
    Femmes = "Femmes",
    Pct_Hommes = "% Hommes"
  ) %>%
  tab_options(
    table.font.size = px(14),
    table.width = pct(100),
    column_labels.background.color = "#3b82f6",
    column_labels.font.weight = "bold",
    column_labels.font.size = px(16)
  ) %>%
  tab_style(
    style = list(cell_fill(color = "#dbeafe"), cell_text(weight = "bold")),
    locations = cells_body(rows = 1:3)
  ) %>%
  fmt_number(columns = c(Hommes, Femmes), decimals = 0) %>%
  opt_row_striping()
```

### Visualisation

```{r}
#| echo: false
#| fig-width: 10
#| fig-height: 7
top15 <- genre_domaine %>% arrange(desc(Total)) %>% head(15)

top15_long <- top15 %>%
  select(domaine_nom, Hommes, Femmes) %>%
  pivot_longer(cols = c(Hommes, Femmes), names_to = "Genre", values_to = "Effectif")

p <- ggplot(top15_long, aes(x = reorder(domaine_nom, Effectif), y = Effectif, fill = Genre,
                            text = paste0(domaine_nom, "<br>",
                                         Genre, ": ", format(Effectif, big.mark = " "), " dipl√¥m√©s"))) +
  geom_bar(stat = "identity") +
  coord_flip() +
  scale_fill_manual(values = c("Hommes" = "#3b82f6", "Femmes" = "#ec4899")) +
  labs(
    title = "R√©partition H/F par Domaine (Top 15)",
    x = NULL,
    y = "Nombre de dipl√¥m√©s"
  ) +
  theme_minimal(base_size = 12) +
  theme(
    plot.title = element_text(face = "bold", size = 16, hjust = 0.5),
    legend.position = "top"
  )

ggplotly(p, tooltip = "text")
```
:::

# Axe 2 {data-background="#f59e0b"}

::: {.r-fit-text style="color: white;"}
Domaines Satur√©s
:::

::: {.fragment style="color: white; font-size: 1.2em;"}
**Questions :** Quels domaines produisent le plus ? Y a-t-il une concentration excessive ?
:::

## Concentration de la production {.smaller}

::: {.callout-warning icon="false"}
## üìà Qu'est-ce que l'Analyse de Pareto ?

**Le diagramme de Pareto** est un outil statistique qui combine :
- **Barres** : Effectifs d√©croissants
- **Courbe cumulative** : % cumul√© de 0% √† 100%

**Principe 80/20** : Identifier les √©l√©ments les plus importants
- Si 20% des domaines produisent 80% des dipl√¥m√©s ‚Üí **Forte concentration**

**Dans notre cas :**
- Les **5 premiers domaines** : ~60% des dipl√¥m√©s
- Les **10 premiers domaines** : ~85% des dipl√¥m√©s

‚úÖ **Utilit√©** : Identifier o√π concentrer les efforts et d√©tecter les risques de surproduction
:::

## Top 10 Domaines Productifs {.smaller}

::: {.callout-tip icon="false"}
**Lecture du tableau :**
- **Domaine** : Nom du domaine d'√©tude
- **Total** : Nombre total de dipl√¥m√©s
- **%** : Part de ce domaine dans la production totale
- **% Cumul√©** : Somme des % depuis le 1er domaine (atteint 100% au dernier)
:::

```{r}
#| echo: false
domaines_production <- diplomes_final %>%
  group_by(domaine_nom) %>%
  summarise(Total_diplomes = sum(diplomes_total)) %>%
  arrange(desc(Total_diplomes)) %>%
  mutate(
    Pct = round((Total_diplomes / sum(Total_diplomes)) * 100, 2),
    Pct_cumule = cumsum(Pct)
  )

top10_prod <- head(domaines_production, 10)

gt(top10_prod) %>%
  cols_label(
    domaine_nom = "Domaine",
    Total_diplomes = "Total dipl√¥m√©s",
    Pct = "% du total",
    Pct_cumule = "% Cumul√©"
  ) %>%
  tab_options(
    table.font.size = px(16),
    table.width = pct(100),
    column_labels.background.color = "#f59e0b",
    column_labels.font.weight = "bold",
    column_labels.font.size = px(18)
  ) %>%
  tab_style(
    style = list(cell_fill(color = "#fef3c7"), cell_text(weight = "bold", size = px(16))),
    locations = cells_body(rows = 1:3)
  ) %>%
  tab_style(
    style = cell_text(size = px(16)),
    locations = cells_body()
  ) %>%
  fmt_number(columns = Total_diplomes, decimals = 0) %>%
  fmt_number(columns = c(Pct, Pct_cumule), decimals = 1, pattern = "{x}%") %>%
  opt_row_striping()
```

## Diagramme de Pareto {.smaller}

```{r}
#| echo: false
#| fig-width: 12
#| fig-height: 6
top15_pareto <- head(domaines_production, 15)

ggplot(top15_pareto, aes(x = reorder(domaine_nom, -Total_diplomes))) +
  geom_bar(aes(y = Total_diplomes), stat = "identity", fill = "#3b82f6", alpha = 0.7) +
  geom_line(aes(y = Pct_cumule * max(Total_diplomes) / 100, group = 1), 
            color = "#dc2626", size = 1.5) +
  geom_point(aes(y = Pct_cumule * max(Total_diplomes) / 100), 
             color = "#dc2626", size = 3) +
  scale_y_continuous(
    name = "Nombre de dipl√¥m√©s",
    sec.axis = sec_axis(~. * 100 / max(top15_pareto$Total_diplomes), name = "% Cumul√©")
  ) +
  labs(
    title = "Diagramme de Pareto : Concentration de la Production Acad√©mique",
    x = NULL
  ) +
  theme_minimal(base_size = 11) +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),
    plot.title = element_text(face = "bold", size = 14, hjust = 0.5)
  )
```

# Axe 3 {data-background="#8b5cf6"}

::: {.r-fit-text style="color: white;"}
Performance des √âtablissements
:::

::: {.fragment style="color: white; font-size: 1.2em;"}
**Questions :** Quels √©tablissements produisent le plus ? Sont-ils sp√©cialis√©s ou polyvalents ?
:::

## Top 20 √âtablissements {.smaller .scrollable}

```{r}
#| echo: false
etablissements_ranking <- diplomes_final %>%
  filter(!is.na(etablissement_nom)) %>%
  group_by(etablissement_nom, universite_nom) %>%
  summarise(
    Total_diplomes = sum(diplomes_total),
    Nb_domaines = n_distinct(domaine_nom),
    Nb_specialites = n_distinct(speciality),
    .groups = "drop"
  ) %>%
  arrange(desc(Total_diplomes)) %>%
  mutate(Rang = row_number())

top20_etab <- head(etablissements_ranking, 20)

gt(top20_etab %>% select(Rang, etablissement_nom, Total_diplomes, Nb_domaines, Nb_specialites)) %>%
  cols_label(
    Rang = "#",
    etablissement_nom = "√âtablissement",
    Total_diplomes = "Dipl√¥m√©s",
    Nb_domaines = "Domaines",
    Nb_specialites = "Sp√©cialit√©s"
  ) %>%
  tab_options(
    table.font.size = px(15),
    table.width = pct(100),
    column_labels.background.color = "#8b5cf6",
    column_labels.font.weight = "bold",
    column_labels.font.size = px(17)
  ) %>%
  tab_style(
    style = list(cell_fill(color = "#ede9fe"), cell_text(weight = "bold", size = px(15))),
    locations = cells_body(rows = 1:5)
  ) %>%
  tab_style(
    style = cell_text(size = px(14)),
    locations = cells_body()
  ) %>%
  fmt_number(columns = c(Total_diplomes, Nb_domaines, Nb_specialites), decimals = 0) %>%
  opt_row_striping()
```

## Diversit√© vs Volume {.smaller}

```{r}
#| echo: false
#| fig-width: 10
#| fig-height: 6
top30_etab <- head(etablissements_ranking, 30)

p <- ggplot(top30_etab, aes(x = Nb_domaines, y = Total_diplomes, 
                             size = Nb_specialites,
                             color = Total_diplomes,
                             text = paste0(etablissement_nom, "<br>",
                                          "Dipl√¥m√©s: ", Total_diplomes, "<br>",
                                          "Domaines: ", Nb_domaines))) +
  geom_point(alpha = 0.7) +
  scale_color_gradient(low = "#60a5fa", high = "#dc2626") +
  scale_size_continuous(range = c(3, 15)) +
  labs(
    title = "Diversit√© vs Volume de Production (Top 30)",
    x = "Nombre de domaines",
    y = "Total de dipl√¥m√©s",
    size = "Sp√©cialit√©s",
    color = "Dipl√¥m√©s"
  ) +
  theme_minimal(base_size = 12) +
  theme(plot.title = element_text(face = "bold", size = 14, hjust = 0.5))

ggplotly(p, tooltip = "text")
```

# Axe 4 {data-background="#10b981"}

::: {.r-fit-text style="color: white;"}
Domaine √ó Type de Dipl√¥me
:::

::: {.fragment style="color: white; font-size: 1.2em;"}
**Questions :** Quelle est la structure des dipl√¥mes par domaine ? Licence, Master, Doctorat ?
:::

## Analyse crois√©e {.smaller}

::: {.callout-tip icon="false"}
## üîç Qu'est-ce qu'un tableau de contingence ?

**Tableau crois√©** = Croisement de 2 variables cat√©gorielles

**Colonnes de notre tableau :**
- **Type de dipl√¥me** : Licence, Master professionnel, Ing√©nieur, Doctorat, etc.
- **Total** : Nombre de dipl√¥m√©s pour ce type
- **%** : Part de ce type dans le domaine

**Pourquoi c'est utile ?**
- Voir si un domaine produit surtout des Licences ou des Masters
- Identifier les domaines avec peu de Masters/Doctorats
- Comprendre la structure acad√©mique de chaque domaine

**Comment lire ?**  
Pour chaque domaine, on voit les 3 types de dipl√¥mes les plus fr√©quents avec leur pourcentage.
:::

```{r}
#| echo: false
domaine_diplome <- diplomes_final %>%
  group_by(domaine_nom, diplome_nom) %>%
  summarise(Total = sum(diplomes_total), .groups = "drop") %>%
  arrange(domaine_nom, desc(Total))

# Top 5 domaines
top5_domaines <- head(domaines_production$domaine_nom, 5)

analyse_croisee <- domaine_diplome %>%
  filter(domaine_nom %in% top5_domaines) %>%
  group_by(domaine_nom) %>%
  mutate(Pct = round((Total / sum(Total)) * 100, 1)) %>%
  arrange(domaine_nom, desc(Total)) %>%
  slice(1:3)
```

## Structure par domaine (Top 5) {.smaller .scrollable}

::: {.panel-tabset}

```{r}
#| echo: false
#| results: asis
for(dom in top5_domaines) {
  cat("\n### ", dom, "\n\n")
  subset_dom <- analyse_croisee %>% 
    filter(domaine_nom == dom) %>%
    select(diplome_nom, Total, Pct)
  
  print(gt(subset_dom) %>%
    cols_label(
      diplome_nom = "Type de dipl√¥me",
      Total = "Total",
      Pct = "%"
    ) %>%
    tab_options(
      table.font.size = px(16),
      table.width = pct(100)
    ) %>%
    tab_style(
      style = cell_text(size = px(16)),
      locations = cells_body()
    ) %>%
    fmt_number(columns = Total, decimals = 0) %>%
    opt_row_striping())
  cat("\n\n")
}
```

:::

# Axe 5 {data-background="#06b6d4"}

::: {.r-fit-text style="color: white;"}
Analyse Multivari√©e
:::

::: {.fragment style="color: white; font-size: 1.2em;"}
**Questions :** Peut-on regrouper les domaines similaires ? Y a-t-il des profils types ?
:::

## ACP : Principe {.smaller}

::: {.columns}
::: {.column width="50%"}
### Qu'est-ce que l'ACP ?

::: {.incremental}
- **R√©duction de dimensionnalit√©**
- Transformation de variables corr√©l√©es en variables non corr√©l√©es (composantes principales)
- Visualisation en 2D de donn√©es multidimensionnelles
- Identification de profils similaires
:::
:::

::: {.column width="50%"}
### Variables analys√©es

::: {.callout-note icon="false"}
Pour chaque domaine :

- % Femmes / % Hommes
- Total dipl√¥m√©s
- Nb types de dipl√¥mes
- Nb sp√©cialit√©s
- Nb √©tablissements
:::
:::
:::

## R√©sultats ACP {.smaller}

```{r}
#| echo: false
#| include: false
pca_data <- diplomes_final %>%
  group_by(domaine_nom) %>%
  summarise(
    Total_diplomes = sum(diplomes_total),
    Pct_Femmes = (sum(diplomes_F) / sum(diplomes_total)) * 100,
    Pct_Hommes = (sum(diplomes_M) / sum(diplomes_total)) * 100,
    Nb_types_diplomes = n_distinct(diplome_nom),
    Nb_specialites = n_distinct(speciality),
    Nb_etablissements = n_distinct(etablissement_nom)
  ) %>%
  filter(Total_diplomes > 100)

pca_matrix <- pca_data %>% 
  select(-domaine_nom) %>%
  as.data.frame()

rownames(pca_matrix) <- pca_data$domaine_nom

pca_result <- prcomp(pca_matrix, scale. = TRUE, center = TRUE)
variance_expliquee <- (pca_result$sdev^2 / sum(pca_result$sdev^2)) * 100
```

::: {.columns}
::: {.column width="50%"}
### Variance expliqu√©e

```{r}
#| echo: false
variance_df <- data.frame(
  Composante = paste0("PC", 1:6),
  Variance = round(variance_expliquee[1:6], 2)
)

gt(variance_df) %>%
  cols_label(
    Composante = "Composante",
    Variance = "% Variance"
  ) %>%
  tab_options(
    table.font.size = px(18),
    table.width = pct(100),
    column_labels.background.color = "#06b6d4",
    column_labels.font.weight = "bold",
    column_labels.font.size = px(20)
  ) %>%
  tab_style(
    style = list(cell_fill(color = "#cffafe"), cell_text(weight = "bold", size = px(18))),
    locations = cells_body(rows = 1:2)
  ) %>%
  tab_style(
    style = cell_text(size = px(18)),
    locations = cells_body()
  ) %>%
  fmt_number(columns = Variance, decimals = 2) %>%
  opt_row_striping()
```

::: {.callout-important icon="false"}
PC1 + PC2 capturent **~86%** de la variance totale
:::
:::

::: {.column width="50%"}
```{r}
#| echo: false
#| fig-width: 5
#| fig-height: 4
variance_df_plot <- data.frame(
  PC = factor(paste0("PC", 1:6), levels = paste0("PC", 1:6)),
  Variance = variance_expliquee[1:6]
)

ggplot(variance_df_plot, aes(x = PC, y = Variance, fill = Variance)) +
  geom_bar(stat = "identity") +
  scale_fill_gradient(low = "#67e8f9", high = "#0891b2") +
  labs(
    title = "Scree Plot",
    y = "% Variance expliqu√©e",
    x = "Composante"
  ) +
  theme_minimal() +
  theme(legend.position = "none")
```
:::
:::

## Biplot ACP {.smaller}

```{r}
#| echo: false
#| fig-width: 11
#| fig-height: 7
pca_scores <- as.data.frame(pca_result$x[, 1:2])
pca_scores$domaine <- rownames(pca_scores)

ggplot(pca_scores, aes(x = PC1, y = PC2)) +
  geom_point(size = 4, color = "#06b6d4", alpha = 0.7) +
  geom_text(aes(label = domaine), size = 3, hjust = 0.5, vjust = -0.8, check_overlap = TRUE) +
  geom_hline(yintercept = 0, linetype = "dashed", color = "gray40", linewidth = 0.5) +
  geom_vline(xintercept = 0, linetype = "dashed", color = "gray40", linewidth = 0.5) +
  labs(
    title = "ACP : Profils des Domaines",
    subtitle = sprintf("PC1 (%.1f%%) vs PC2 (%.1f%%)", variance_expliquee[1], variance_expliquee[2]),
    x = sprintf("Composante Principale 1 (%.1f%%)", variance_expliquee[1]),
    y = sprintf("Composante Principale 2 (%.1f%%)", variance_expliquee[2])
  ) +
  theme_minimal(base_size = 12) +
  theme(
    plot.title = element_text(face = "bold", size = 16, hjust = 0.5),
    plot.subtitle = element_text(size = 12, hjust = 0.5)
  )
```

## Clustering K-means {.smaller}

::: {.columns}
::: {.column width="50%"}
### Principe

::: {.incremental}
- **Segmentation automatique**
- Regroupement par similarit√©
- k=4 clusters identifi√©s
- Minimisation variance intra-cluster
:::
:::

::: {.column width="50%"}
```{r}
#| echo: false
set.seed(123)
kmeans_result <- kmeans(scale(pca_matrix), centers = 4, nstart = 25)
pca_data$Cluster <- as.factor(kmeans_result$cluster)

profils_clusters <- pca_data %>%
  group_by(Cluster) %>%
  summarise(
    N = n(),
    Moy_Diplomes = round(mean(Total_diplomes)),
    Moy_Femmes = round(mean(Pct_Femmes), 1)
  )

gt(profils_clusters) %>%
  cols_label(
    Cluster = "Cluster",
    N = "N",
    Moy_Diplomes = "Moy Dip.",
    Moy_Femmes = "% F"
  ) %>%
  tab_options(
    table.font.size = px(20),
    table.width = pct(100),
    column_labels.background.color = "#06b6d4",
    column_labels.font.weight = "bold",
    column_labels.font.size = px(22)
  ) %>%
  tab_style(
    style = cell_text(size = px(20)),
    locations = cells_body()
  ) %>%
  fmt_number(columns = Moy_Diplomes, decimals = 0) %>%
  fmt_number(columns = Moy_Femmes, decimals = 1) %>%
  opt_row_striping()
```
:::
:::

## ACP avec Clusters {.smaller}

```{r}
#| echo: false
#| fig-width: 11
#| fig-height: 7
pca_scores$Cluster <- pca_data$Cluster

ggplot(pca_scores, aes(x = PC1, y = PC2, color = Cluster)) +
  geom_point(size = 5, alpha = 0.8) +
  geom_text(aes(label = domaine), size = 3, hjust = 0.5, vjust = -0.9, check_overlap = TRUE) +
  geom_hline(yintercept = 0, linetype = "dashed", color = "gray40", linewidth = 0.5) +
  geom_vline(xintercept = 0, linetype = "dashed", color = "gray40", linewidth = 0.5) +
  scale_color_brewer(palette = "Set1") +
  labs(
    title = "ACP avec Clustering K-means (k=4)",
    subtitle = "Regroupement automatique des domaines par profil similaire",
    x = sprintf("PC1 (%.1f%%)", variance_expliquee[1]),
    y = sprintf("PC2 (%.1f%%)", variance_expliquee[2])
  ) +
  theme_minimal(base_size = 12) +
  theme(
    plot.title = element_text(face = "bold", size = 16, hjust = 0.5),
    plot.subtitle = element_text(size = 12, hjust = 0.5),
    legend.position = "right"
  )
```

# Axe 6 {data-background="#ef4444"}

::: {.r-fit-text style="color: white;"}
Mismatch Acad√©mique
:::

::: {.fragment style="color: white; font-size: 1.2em;"}
**Questions :** Y a-t-il surproduction ? Quels risques pour l'emploi ?
:::

## Concept de Mismatch {.smaller}

::: {.callout-warning icon="false"}
## ‚ö†Ô∏è D√©calage Offre/Demande

**Mismatch acad√©mique** : D√©s√©quilibre entre la production de dipl√¥m√©s et les besoins du march√© du travail
:::

::: {.columns}
::: {.column width="50%"}
### Risques identifi√©s

::: {.incremental}
- Concentration excessive
- Surproduction dans certains domaines
- Sous-repr√©sentation de domaines √©mergents
- Inad√©quation formation-emploi
:::
:::

::: {.column width="50%"}
### Cons√©quences

::: {.incremental}
- Ch√¥mage des dipl√¥m√©s
- P√©nurie de comp√©tences
- Gaspillage de ressources
- Frustration sociale
:::
:::
:::

## Indice de concentration {.smaller}

```{r}
#| echo: false
mismatch_analyse <- domaines_production %>%
  mutate(
    Risque = case_when(
      Pct > 15 ~ "√âlev√©",
      Pct > 10 ~ "Moyen",
      Pct > 5 ~ "Faible",
      TRUE ~ "Minimal"
    )
  )

indice_herfindahl <- sum((mismatch_analyse$Pct / 100)^2)
```

::: {.columns}
::: {.column width="50%"}
::: {.callout-important icon="false"}
## üìä Indice Herfindahl-Hirschman

**HHI = `r round(indice_herfindahl, 4)`**

::: {.fragment}
‚úÖ Interpr√©tation : **`r ifelse(indice_herfindahl > 0.15, "FORTE concentration", ifelse(indice_herfindahl > 0.10, "Concentration MOD√âR√âE", "Faible concentration"))`**
:::
:::
:::

::: {.column width="50%"}
### Domaines √† risque

```{r}
#| echo: false
domaines_risque <- mismatch_analyse %>% filter(Pct > 10)

gt(domaines_risque %>% select(domaine_nom, Total_diplomes, Pct, Risque) %>% head(5)) %>%
  cols_label(
    domaine_nom = "Domaine",
    Total_diplomes = "Total",
    Pct = "%",
    Risque = "Risque"
  ) %>%
  tab_options(
    table.font.size = px(16),
    table.width = pct(100),
    column_labels.background.color = "#ef4444",
    column_labels.font.weight = "bold",
    column_labels.font.size = px(18)
  ) %>%
  tab_style(
    style = cell_text(size = px(16)),
    locations = cells_body()
  ) %>%
  fmt_number(columns = Total_diplomes, decimals = 0) %>%
  fmt_number(columns = Pct, decimals = 1, pattern = "{x}%") %>%
  opt_row_striping()
```
:::
:::

## Recommandations strat√©giques {.smaller}

::: {.columns}
::: {.column width="33%"}
### üéØ Points d'attention

- Les **`r nrow(domaines_risque)` premiers domaines** = **`r round(sum(domaines_risque$Pct), 1)`%** des dipl√¥m√©s
- Risque de saturation
- Diversification √† renforcer
:::

::: {.column width="33%"}
### üíº Emploi

- Surproduction potentielle
- √âtudes sectorielles n√©cessaires
- R√©orientation vers domaines en demande
:::

::: {.column width="33%"}
### üìã Politiques

- Ajuster quotas d'admission
- Promouvoir fili√®res sous-repr√©sent√©es
- Orientation vers m√©tiers d'avenir
:::
:::

# Synth√®se G√©n√©rale {data-background-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}

## Principaux r√©sultats {.smaller}

::: {.incremental}
1. **D√©s√©quilibre de genre** : Ratio F/H de 2.33:1, domaines fortement genr√©s
2. **Concentration importante** : Top 10 domaines = 85% de la production
3. **√âtablissements h√©t√©rog√®nes** : Profils vari√©s (sp√©cialis√©s vs polyvalents)
4. **Structure des dipl√¥mes** : Distribution in√©gale selon domaines
5. **Profils distincts** : 4 clusters de domaines identifi√©s par ACP
6. **Risque de mismatch** : Surproduction dans certains domaines
:::

## Implications {.smaller}

::: {.columns}
::: {.column width="50%"}
### Pour les d√©cideurs üèõÔ∏è

- Ajuster l'offre de formation
- √âquilibrer la production
- Anticiper les besoins
- Optimiser les ressources
:::

::: {.column width="50%"}
### Pour les √©tudiants üéì

- Meilleure orientation
- Connaissance du march√©
- Choix √©clair√©s
- Perspectives d'emploi
:::
:::

## Limites et perspectives {.smaller}

::: {.callout-note icon="false"}
## üî¨ Limites de l'√©tude

- Donn√©es ponctuelles (pas d'√©volution temporelle)
- Pas d'indicateurs d'employabilit√©
- Absence de donn√©es sur le march√© du travail
:::

::: {.callout-tip icon="false"}
## üöÄ Perspectives futures

- Analyse longitudinale (√©volution sur plusieurs ann√©es)
- Croisement avec donn√©es d'emploi
- √âtude de l'insertion professionnelle
- Mod√®les pr√©dictifs
:::

## {.center data-background="#1e3a8a"}

::: {.r-fit-text}
**Merci pour votre attention !**
:::

::: {.fragment}
### Questions ?
:::

::: {.fragment}
**Abderrahmen Youssef**  
Groupe DS4  
07 Janvier 2026
:::

## Annexes {.smaller .scrollable}

### M√©thodes statistiques utilis√©es

1. **Analyse descriptive** : Moyennes, pourcentages, distributions
2. **Tableaux crois√©s** : Contingence entre variables cat√©gorielles
3. **ACP** : R√©duction dimensionnalit√©, identification profils
4. **K-means** : Clustering automatique, segmentation
5. **Indices de concentration** : Pareto, Herfindahl

### Technologies

- **R** : Analyse statistique
- **dplyr/tidyr** : Manipulation donn√©es
- **ggplot2/plotly** : Visualisations
- **Quarto** : Pr√©sentation interactive

---

## Bibliographie {.smaller}

- Donn√©es : Minist√®re de l'Enseignement Sup√©rieur et de la Recherche Scientifique (Tunisie)
- M√©thodes ACP : Husson, F., L√™, S., & Pag√®s, J. (2017). *Exploratory Multivariate Analysis by Example Using R*
- Clustering : James, G. et al. (2013). *An Introduction to Statistical Learning*
- Visualisation : Wickham, H. (2016). *ggplot2: Elegant Graphics for Data Analysis*
